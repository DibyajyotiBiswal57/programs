# Collapsible Questions Feature Documentation

## Overview

This feature enhances the `questions.md` page on GitHub Pages by converting each question into an interactive collapsible dropdown that displays the implementation status for all supported programming languages.

## Features

### 1. **Interactive Collapsible Questions**
- Each question is wrapped in a clickable header
- Click to expand/collapse and view language implementation status
- Smooth animations for better UX
- State persistence using localStorage (remembers which questions you've expanded)

### 2. **Real-time Status Display**
- Shows implementation status for 17 programming languages:
  - QBasic, Java, Python, C, C++, C#, Haskell, Perl, Go, Elixir, Assembly, Fortran, Lua, Ruby, Visual Basic, PowerShell, Batch
- Color-coded badges:
  - ðŸŸ¢ Green "done" - Implementation complete
  - ðŸŸ¡ Yellow "beta" - Work in progress/beta version
  - âšª Grey "missing" - Not yet implemented
- Clickable badges link directly to the source code files

### 3. **Theme Support**
- Full dark/light mode compatibility
- Matches the existing site theme
- Smooth transitions between themes

### 4. **Responsive Design**
- Mobile-friendly layout
- Adapts to different screen sizes
- Touch-optimized for mobile devices

## File Structure

```
assets/
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ questions-collapsible.js    # Main JavaScript functionality
â”‚   â””â”€â”€ status-data.json            # Auto-generated status data
â””â”€â”€ css/
    â””â”€â”€ questions-collapsible.css   # Styling for collapsible questions

_layouts/
â””â”€â”€ default.html                     # Updated to include new scripts

.github/workflows/
â””â”€â”€ update-status.yml                # Auto-updates status-data.json

generate_status_json.py              # Generates status-data.json
```

## How It Works

### 1. Question Parsing
The JavaScript scans `questions.md` for questions in the format:
```
1. Print "Hello World". <br> [Filename - 0001_hello_world]
```

It extracts:
- Question number (e.g., 1)
- Filename base (e.g., 0001_hello_world)

### 2. Status Data Loading
- `status-data.json` is automatically generated by `generate_status_json.py`
- Contains the actual implementation status for each question across all languages
- Updated automatically via GitHub Actions on every push

### 3. Dynamic Table Generation
For each question, an iframe is created containing an HTML table with:
- Header row: Language names
- Data row: Status badges with links to source files

### 4. Collapsible Interaction
- Click the question header to expand/collapse
- Keyboard accessible (Enter/Space keys work)
- State saved to localStorage
- Smooth CSS animations

## Usage

### For Users
1. Navigate to the questions page on GitHub Pages
2. Click any question to expand and see implementation status
3. Click badges to view the actual code
4. Questions stay expanded/collapsed based on your preference

### For Developers

#### Adding a New Question
1. Edit `questions.md` following the existing format:
   ```
   N. Question text. <br> [Filename - XXXX_filename]
   ```

2. Implement the solution in any language folder (e.g., `python/XXXX_filename.py`)

3. The status will be automatically updated when you push to main

#### Adding a New Language
1. Update `LANGUAGE_CONFIG` in both:
   - `update_status.py`
   - `generate_status_json.py`
   - `assets/js/questions-collapsible.js` (LANGUAGES array)

2. Create the language folder in the repository root

3. Add implementations with the standard naming convention

#### Manual Status Update
To manually regenerate status data:
```bash
python3 generate_status_json.py
```

## Technical Details

### Status Detection Logic
Files are classified based on their filename:
- Contains "beta" or "wip" â†’ Beta status (yellow)
- Contains "unfinished" or "todo" â†’ Missing status (grey)
- Everything else â†’ Done status (green)

### Path Resolution
The JavaScript tries multiple paths to find `status-data.json`:
1. `/programs/assets/js/status-data.json` (GitHub Pages with baseurl)
2. `/assets/js/status-data.json` (root domain)
3. `assets/js/status-data.json` (relative path)

This ensures compatibility across different deployment scenarios.

### Performance Optimizations
- Status data is cached after first load
- Iframes are lazily populated only when expanded
- CSS animations use hardware acceleration
- localStorage prevents unnecessary re-initialization

### Accessibility Features
- Full keyboard navigation support
- ARIA labels for screen readers
- Proper focus management
- High contrast mode compatible

## Browser Compatibility
- Modern browsers (Chrome, Firefox, Safari, Edge)
- Falls back gracefully if JavaScript is disabled
- Respects `prefers-reduced-motion` for users who prefer less animation

## Troubleshooting

### Questions Not Collapsing
1. Check browser console for JavaScript errors
2. Verify `questions-collapsible.js` is loaded
3. Clear browser cache and reload

### Status Data Not Loading
1. Verify `status-data.json` exists in `assets/js/`
2. Check browser console for fetch errors
3. Ensure GitHub Pages is properly deployed

### Missing Badges
1. Run `python3 generate_status_json.py` to regenerate status data
2. Verify file naming follows the convention (XXXX_name.ext)
3. Check that the language folder exists

## Future Enhancements

Possible improvements:
- [ ] Add sorting/filtering options
- [ ] Show completion percentage per question
- [ ] Add "Copy code" button for implementations
- [ ] Include code preview in the iframe
- [ ] Add search functionality within questions
- [ ] Export status as CSV/PDF

## Contributing

When contributing to this feature:
1. Maintain the existing code style
2. Test on multiple browsers
3. Ensure mobile responsiveness
4. Update this documentation for significant changes
5. Follow accessibility best practices

## License

This feature is part of the main repository and follows the same license.
